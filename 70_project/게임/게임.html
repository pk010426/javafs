<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="게임style.css">
</head>

<body>

    <section>
        <audio class="bgm" src="audio/망치끝에걸린달빛.mp3" autoplay=true></audio>
        <div id="main">
            <img class="slotmachine" src="images/slotimg.jpg" alt="slotmachine">
            <div class="slide1">
                <div class="slot1">
                    <div class="p1 page"><img src="images/img1.jpg" alt="img1"></div>
                    <div class="p2 page"><img src="images/img2.jpg" alt="img2"></div>
                    <div class="p3 page"><img src="images/img3.jpg" alt="img3"></div>
                    <div class="p4 page"><img src="images/img4.jpg" alt="img4"></div>
                    <div class="p5 page"><img src="images/img5.jpg" alt="img5"></div>
                    <div class="p6 page"><img src="images/img6.jpg" alt="img6"></div>
                    <div class="p7 page"><img src="images/img7.jpg" alt="img7"></div>
                    <div class="p1 page"><img src="images/img1.jpg" alt="img1"></div>

                </div>
            </div>
            <div><img src="" class="lightbox1" alt="choseimg"></div>
            <div class="slide2">
                <div class="slot2">
                    <div class="p3 page"><img src="images/img3.jpg" alt="img3"></div>
                    <div class="p1 page"><img src="images/img1.jpg" alt="img1"></div>
                    <div class="p2 page"><img src="images/img2.jpg" alt="img2"></div>
                    <div class="p6 page"><img src="images/img6.jpg" alt="img6"></div>
                    <div class="p7 page"><img src="images/img7.jpg" alt="img7"></div>
                    <div class="p4 page"><img src="images/img4.jpg" alt="img4"></div>
                    <div class="p5 page"><img src="images/img5.jpg" alt="img5"></div>
                    <div class="p5 page"><img src="images/img5.jpg" alt="img5"></div>

                </div>
            </div>
            <div><img class="lightbox2" src="" alt="choseimg"></div>

            <div class="slide3">
                <div class="slot3">
                    <div class="p7 page"><img src="images/img7.jpg" alt="img7"></div>
                    <div class="p1 page"><img src="images/img1.jpg" alt="img1"></div>
                    <div class="p2 page"><img src="images/img2.jpg" alt="img2"></div>
                    <div class="p6 page"><img src="images/img6.jpg" alt="img6"></div>
                    <div class="p3 page"><img src="images/img3.jpg" alt="img3"></div>
                    <div class="p5 page"><img src="images/img5.jpg" alt="img5"></div>
                    <div class="p4 page"><img src="images/img4.jpg" alt="img4"></div>
                    <div class="p4 page"><img src="images/img4.jpg" alt="img4"></div>

                </div>
            </div>
            <div><img src="" class="lightbox3" alt="choseimg"></div>

            <div class="result">
                <p>결과</p>
            </div>

            <audio class="btn_audio" src="audio/btn_sound.m4a">
            </audio>
            <button class="btn1"> START </button>
            <button class="btn2"> STOP </button>
        </div>

        <script>
            // 브금 재생
            let BGM = document.querySelector(".bgm");
            BGM.play();
            BGM.autoplay = true;
            BGM.loop = true;
            BGM.volume = 0.15;

            let go_btn = document.querySelector(".btn1");
            let stop_btn = document.querySelector(".btn2");
            let lbox1 = document.querySelector(".lightbox1");
            let lbox2 = document.querySelector(".lightbox2");
            let lbox3 = document.querySelector(".lightbox3");

            let c1;

            let num = 0;
            go_btn.onclick = function () {
                location.href = "게임.html"
            }

            stop_btn.onclick = function () {
                const btn_sound = document.querySelector(".btn_audio");
                btn_sound.volume = 1;
                btn_sound.play();
                num++
                let sl1 = document.querySelector(".slot1");
                let sl2 = document.querySelector(".slot2");
                let sl3 = document.querySelector(".slot3");
                let r = document.querySelector(".result");
                let rt = document.querySelector(".result p");
                console.log(lbox1);
                let c1 = Math.floor(Math.random() * (7)) + 1;
                let c2 = Math.floor(Math.random() * (7)) + 1;
                let c3 = Math.floor(Math.random() * (7)) + 1;
                // 여기만수정하면 끝
                lbox1.setAttribute("src", ("images/img" + c1 + ".jpg"));
                lbox2.setAttribute("src", ("images/img" + c2 + ".jpg"));
                lbox3.setAttribute("src", ("images/img" + c3 + ".jpg"));

                if (c1 == c2 && c2 == c3 && c3 == c1) {
                    rt.innerText = "당첨!";
                } else if (c1 == c2 || c2 == c3 || c3 == c1) {
                    rt.innerText = "아쉽네요 2개!";

                } else {
                    rt.innerText = "꽝!";
                }

                // 룰렛 멈추는 함수
                if (num == 1) {
                    sl1.style.animationPlayState = "paused";
                    lbox1.style.display = "block";
                }
                else if (num == 2) {
                    sl2.style.animationPlayState = "paused";
                    lbox2.style.display = "block";

                }
                else if (num == 3) {
                    sl3.style.animationPlayState = "paused";
                    lbox3.style.display = "block";
                    r.style.animationPlayState = "running";
                }

                console.log(c1);
                console.log(c2);
                console.log(c3);


            }


        </script>
    </section>
</body>

</html>