<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.js"></script>
    <link rel="stylesheet" href="https://openweathermap.org/img/wn/10d@2x.png">

    <!-- 413ff569f6ab8b2c7f159f8406d6034a -->
    <!-- 
       http://api.openweathermap.org/data/2.5/forecast?id=1846898&appid=413ff569f6ab8b2c7f159f8406d6034a
        
     -->
    <script>
        // $.getJSON("demo_ajax_json.js", function (result) {
        //     $.each(result, function (i, field) {
        //         $("div").append(field + " ");
        //     });
        // });

        $.getJSON("http://api.openweathermap.org/data/2.5/weather?id=1846898&appid=413ff569f6ab8b2c7f159f8406d6034a&units=metric", function (data) {
            let ctemp = data.main.temp;
            let maxtemp = data.main.temp_max;
            let mintemp = data.main.temp_min;
            let icon = data.weather[0].icon;
            let day = new Date();
            let cdate = day.getFullYear() + "/" + (day.getMonth() + 1) + "/" + day.getDate() + " " + day.getHours() + ":" + day.getMinutes();
            

            $(".ctemp").append(ctemp);
            $(".clowtemp").append(mintemp);
            $(".chightemp").append(maxtemp);
            // $(".cicon").append("<img src='https://openweathermap.org/img/wn/" + icon + "@2x.png'>");
            $(".cicon").append(`<img src="https://openweathermap.org/img/wn/${icon}@2x.png">`);
            // 백팁문법
            $("h2").prepend(cdate);

            
        });

    </script>
</head>

<body>
    <h1>weather api</h1>
    <h2> 날씨 정보</h2>
    <div class="ctemp">현재 온도 : </div>
    <div class="clowtemp">최저 온도 : </div>
    <div class="chightemp">최고 온도 : </div>
    <div class="cicon">아이콘 : </div>
</body>

</html>